{% extends 'main/base.html' %}

{% block title %}Update {{ request.user.username }}'s Profile{% endblock %}

{% block content %}
<div class="container">
    <h1 style="margin-top: 150px;">Update Profile</h1>

    {% if msg %}
        <div class="alert alert-danger">{{ msg }}</div>
    {% endif %}
    
    <div class="row">
        <div class="col">
            <form action="{% url 'accounts:update_user_profile_view' %}" method="post" class="d-flex flex-column gap-2" enctype="multipart/form-data">
                {% csrf_token %}
                
                <div class="form-group">
                    <label for="first_name">First Name</label>
                    <input name="first_name" class="form-control" type="text" minlength="3" placeholder="First Name" value="{{ user.first_name }}"/>
                </div>

                <div class="form-group">
                    <label for="last_name">Last Name</label>
                    <input name="last_name" class="form-control" type="text" minlength="3" placeholder="Last Name" value="{{ user.last_name }}"/>
                </div>

                <div class="form-group">
                    <label for="email">Email</label>
                    <input name="email" class="form-control" type="email" placeholder="Email" value="{{ user.email }}"/>
                </div>

                <div class="form-group">
                    <label for="bio">Bio</label>
                    <textarea name="bio" class="form-control" placeholder="About Yourself">{{ user.profile.bio }}</textarea>
                </div>
                
                <div class="form-group">
                    <label for="birthdate">Birthdate</label>
                    <input name="birthdate" class="form-control" type="date" placeholder="Birthdate" value="{{ user.profile.birthdate }}"/>
                </div>
                
                <div class="form-group">
                    <label for="avatar">Avatar</label>
                    <img src="{{ user.profile.avatar.url }}" style="width: 100px; border-radius: 100%;" alt="Current Avatar"/>
                    <input type="file" class="form-control" name="avatar"/>
                </div>

                <div class="form-group">
                    <label for="linkedin_link">LinkedIn Link</label>
                    <input name="linkedin_link" class="form-control" type="text" placeholder="LinkedIn Profile Link" value="{{ user.profile.linkedin_link }}"/>
                </div>

                <div class="form-group">
                    <label for="github_link">GitHub Link</label>
                    <input name="github_link" class="form-control" type="text" placeholder="GitHub Profile Link" value="{{ user.profile.github_link }}"/>
                </div>
                
                <div class="form-group text-center">
                    <input type="submit" class="btn btn-dark" value="Update Profile"/>
                </div>
            </form>
        </div>
    </div>
</div>
{% endblock %}